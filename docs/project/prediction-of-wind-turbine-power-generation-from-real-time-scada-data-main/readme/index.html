<!DOCTYPE html><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Rabia YAŞA KOŞTAŞ" />

  
  
  
    
  
  <meta name="description" content="Prediction of wind turbine power generation from real-time SCADA data" />

  
  <link rel="alternate" hreflang="en-us" href="https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/" />

  
  
  
    <meta name="theme-color" content="#1565c0" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha512-W0xM4mr6dEP9nREo7Z9z+9X70wytKvMGeDsj7ps2+xg5QPrEBXC8tAW1IFnzjR6eoJ90JmCnFzerQJTLzIEHjA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.1052fab8b7700a3dc49ee23683097d66.css" />

  



  


  


  




  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hu8d234a82ff4dd5c4a89888184de83dc4_18106_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu8d234a82ff4dd5c4a89888184de83dc4_18106_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/" />

  
  
  
  
  
  
  
  
    
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary" />
  
    <meta property="twitter:site" content="@wowchemy" />
    <meta property="twitter:creator" content="@wowchemy" />
  
  <meta property="og:site_name" content="Academic" />
  <meta property="og:url" content="https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/" />
  <meta property="og:title" content="Prediction of wind turbine power generation from real-time SCADA data | Academic" />
  <meta property="og:description" content="Prediction of wind turbine power generation from real-time SCADA data" /><meta property="og:image" content="https://example.com/media/icon_hu8d234a82ff4dd5c4a89888184de83dc4_18106_512x512_fill_lanczos_center_3.png" />
    <meta property="twitter:image" content="https://example.com/media/icon_hu8d234a82ff4dd5c4a89888184de83dc4_18106_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2022-05-27T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2022-05-27T00:00:00&#43;00:00">
  

  


    









<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/"
  },
  "headline": "Prediction of wind turbine power generation from real-time SCADA data",
  
  "datePublished": "2022-05-27T00:00:00Z",
  "dateModified": "2022-05-27T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Rabia YAŞA KOŞTAŞ"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Academic",
    "logo": {
      "@type": "ImageObject",
      "url": "https://example.com/media/icon_hu8d234a82ff4dd5c4a89888184de83dc4_18106_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "Prediction of wind turbine power generation from real-time SCADA data"
}
</script>

  

  

  

  





  <title>Prediction of wind turbine power generation from real-time SCADA data | Academic</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="86dbe591bfc2bfe27f9bb5f863868fa4" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.2ed908358299dd7ab553faae685c746c.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Academic</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Academic</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#posts"><span>Posts</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#news"><span>News</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article article-project">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Prediction of wind turbine power generation from real-time SCADA data</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    May 27, 2022
  </span>
  

  

  

  
  
  
  

  
  

</div>

    




<div class="btn-links mb-3">
  
  








  


















  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary btn-page-header" href="https://twitter.com/kkostas" target="_blank" rel="noopener">
    <i class="fab fa-twitter mr-1"></i>Follow</a>

  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary btn-page-header" href="https://github.com/kahramankostas/Prediction-of-wind-turbine-power-generation-from-real-time-SCADA-data" target="_blank" rel="noopener">
    <i class="fab fa-github mr-1"></i>Github</a>


</div>


  
</div>



  <div class="article-container">

    <div class="article-style">
      <h1 id="prediction-of-wind-turbine-power-generation-from-real-time-scada-data">Prediction of wind turbine power generation from real-time SCADA data</h1>
<p>The models to be created for this problem are the models that will predict the power values ​​expected to be produced by a wind turbine. Thus, by comparing the actual production of a wind turbine with these estimation results, it will be presented to the investor to what extent the turbine produces less than it should be. From this point of view, the investor will be able to realize that there is a performance problem related to the turbine and will be able to initiate root cause analysis.</p>
<p>The data set presented in the problem consists of real-time SCADA data. Each data value belongs only to the relevant time period and the input variables transmitted in the data set for the time period to be predicted are prepared to be used to predict the power generation result in the same time period.</p>
<p>In the shared data set, the real-time power generation amount (Power(kW)) of a wind turbine belonging to Enerjisa Üretim between 01.01.2019 and 14.08.2021 is given on a 10-minute basis.</p>
<h2 id="information-presented-in-the-dataset-and-its-units">Information presented in the dataset and its units</h2>
<table>
<thead>
<tr>
<th>Column</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>Timestamp</td>
<td>()</td>
</tr>
<tr>
<td>Gearbox_T1_High_Speed_Shaft_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Gearbox_T3_High_Speed_Shaft_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Gearbox_T1_Intermediate_Speed_Shaft_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Temperature Gearbox Bearing Hollow Shaft</td>
<td>(°C)</td>
</tr>
<tr>
<td>Tower Acceleration Normal</td>
<td>(mm/s²)</td>
</tr>
<tr>
<td>Gearbox_Oil-2_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Tower Acceleration Lateral</td>
<td>(mm/s²)</td>
</tr>
<tr>
<td>Temperature Bearing_A</td>
<td>(°C)</td>
</tr>
<tr>
<td>Temperature Trafo-3</td>
<td>(°C)</td>
</tr>
<tr>
<td>Gearbox_T3_Intermediate_Speed_Shaft_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Gearbox_Oil-1_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Gearbox_Oil_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Torque</td>
<td>(%)</td>
</tr>
<tr>
<td>Converter Control Unit Reactive Power</td>
<td>(kVAr)</td>
</tr>
<tr>
<td>Temperature Trafo-2</td>
<td>(°C)</td>
</tr>
<tr>
<td>Reactive Power</td>
<td>(kVAr)</td>
</tr>
<tr>
<td>Temperature Shaft Bearing-1</td>
<td>(°C)</td>
</tr>
<tr>
<td>Gearbox_Distributor_Temperature</td>
<td>(°C)</td>
</tr>
<tr>
<td>Moment D Filtered</td>
<td>(kNm)</td>
</tr>
<tr>
<td>Moment D Direction</td>
<td>(kNm)</td>
</tr>
<tr>
<td>N-set 1</td>
<td>(rpm)</td>
</tr>
<tr>
<td>Operating State</td>
<td>( )</td>
</tr>
<tr>
<td>Power Factor</td>
<td>( )</td>
</tr>
<tr>
<td>Temperature Shaft Bearing-2</td>
<td>(°C)</td>
</tr>
<tr>
<td>Temperature_Nacelle</td>
<td>(°C)</td>
</tr>
<tr>
<td>Voltage A-N</td>
<td>(V)</td>
</tr>
<tr>
<td>Temperature Axis Box-3</td>
<td>(°C)</td>
</tr>
<tr>
<td>Voltage C-N</td>
<td>(V)</td>
</tr>
<tr>
<td>Temperature Axis Box-2</td>
<td>(°C)</td>
</tr>
<tr>
<td>Temperature Axis Box-1</td>
<td>(°C)</td>
</tr>
<tr>
<td>Voltage B-N</td>
<td>(V)</td>
</tr>
<tr>
<td>Nacelle Position_Degree</td>
<td>(°)</td>
</tr>
<tr>
<td>Converter Control Unit Voltage</td>
<td>(V)</td>
</tr>
<tr>
<td>Temperature Battery Box-3</td>
<td>(°C)</td>
</tr>
<tr>
<td>Temperature Battery Box-2</td>
<td>(°C)</td>
</tr>
<tr>
<td>Temperature Battery Box-1</td>
<td>(°C)</td>
</tr>
<tr>
<td>Hydraulic Prepressure</td>
<td>(bar)</td>
</tr>
<tr>
<td>Angle Rotor Position</td>
<td>(°)</td>
</tr>
<tr>
<td>Temperature Tower Base</td>
<td>(°C)</td>
</tr>
<tr>
<td>Pitch Offset-2 Asymmetric Load Controller</td>
<td>(°)</td>
</tr>
<tr>
<td>Pitch Offset Tower Feedback</td>
<td>(°)</td>
</tr>
<tr>
<td>Line Frequency</td>
<td>(Hz)</td>
</tr>
<tr>
<td>Internal Power Limit</td>
<td>(kW)</td>
</tr>
<tr>
<td>Circuit Breaker cut-ins</td>
<td>( )</td>
</tr>
<tr>
<td>Particle Counter</td>
<td>( )</td>
</tr>
<tr>
<td>Tower Accelaration Normal Raw</td>
<td>(mm/s²)</td>
</tr>
<tr>
<td>Torque Offset Tower Feedback</td>
<td>(Nm)</td>
</tr>
<tr>
<td>External Power Limit</td>
<td>(kW)</td>
</tr>
<tr>
<td>Blade-2 Actual Value_Angle-B</td>
<td>(°)</td>
</tr>
<tr>
<td>Blade-1 Actual Value_Angle-B</td>
<td>(°)</td>
</tr>
<tr>
<td>Blade-3 Actual Value_Angle-B</td>
<td>(°)</td>
</tr>
<tr>
<td>Temperature Heat Exchanger Converter Control Unit</td>
<td>(°C)</td>
</tr>
<tr>
<td>Tower Accelaration Lateral Raw</td>
<td>(mm/s²)</td>
</tr>
<tr>
<td>Temperature Ambient</td>
<td>(°C)</td>
</tr>
<tr>
<td>Nacelle Revolution</td>
<td>( )</td>
</tr>
<tr>
<td>Pitch Offset-1 Asymmetric Load Controller</td>
<td>(°)</td>
</tr>
<tr>
<td>Tower Deflection</td>
<td>(ms)</td>
</tr>
<tr>
<td>Pitch Offset-3 Asymmetric Load Controller</td>
<td>(°)</td>
</tr>
<tr>
<td>Wind Deviation 1 seconds</td>
<td>(°)</td>
</tr>
<tr>
<td>Wind Deviation 10 seconds</td>
<td>(°)</td>
</tr>
<tr>
<td>Proxy Sensor_Degree-135</td>
<td>(mm)</td>
</tr>
<tr>
<td>State and Fault</td>
<td>( )</td>
</tr>
<tr>
<td>Proxy Sensor_Degree-225</td>
<td>(mm)</td>
</tr>
<tr>
<td>Blade-3 Actual Value_Angle-A</td>
<td>(°)</td>
</tr>
<tr>
<td>Scope CH 4</td>
<td>( )</td>
</tr>
<tr>
<td>Blade-2 Actual Value_Angle-A</td>
<td>(°)</td>
</tr>
<tr>
<td>Blade-1 Actual Value_Angle-A</td>
<td>(°)</td>
</tr>
<tr>
<td>Blade-2 Set Value_Degree</td>
<td>(°)</td>
</tr>
<tr>
<td>Pitch Demand Baseline_Degree</td>
<td>(°)</td>
</tr>
<tr>
<td>Blade-1 Set Value_Degree</td>
<td>(°)</td>
</tr>
<tr>
<td>Blade-3 Set Value_Degree</td>
<td>(°)</td>
</tr>
<tr>
<td>Moment Q Direction</td>
<td>(kNm)</td>
</tr>
<tr>
<td>Moment Q Filltered</td>
<td>(kNm)</td>
</tr>
<tr>
<td>Proxy Sensor_Degree-45</td>
<td>(mm)</td>
</tr>
<tr>
<td>Turbine State</td>
<td>( )</td>
</tr>
<tr>
<td>Proxy Sensor_Degree-315</td>
<td>(mm)</td>
</tr>
</tbody>
</table>
<h1 id="preprocessing">Preprocessing</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="ch">#!/usr/bin/env python</span>
</span></span><span class="line"><span class="cl"><span class="c1"># coding: utf-8</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">csv</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">warnings</span>
</span></span><span class="line"><span class="cl"><span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pickle</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span></code></pre></div><h3 id="unzip-dataset">unzip dataset</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">zipfile</span>
</span></span><span class="line"><span class="cl"><span class="n">path_to_zip_file</span><span class="o">=</span><span class="s2">&#34;enerjisa-uretim-hackathon.zip&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">path_to_zip_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_ref</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">zip_ref</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">path_to_zip_file</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span>
</span></span></code></pre></div><h3 id="take-dataset-files-as-a-lit-in-csvs">take dataset files as a lit in &ldquo;csvs&rdquo;</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_the_way</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="n">file_format</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">files_add</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">r</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">file_format</span> <span class="ow">in</span> <span class="n">file</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">files_add</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>  
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">files_add</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">path</span><span class="o">=</span><span class="n">path_to_zip_file</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">csvs</span><span class="o">=</span><span class="n">find_the_way</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;.csv&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">csvs</span>
</span></span></code></pre></div><pre><code>['enerjisa-uretim-hackathon\\features.csv',
 'enerjisa-uretim-hackathon\\feature_units.csv',
 'enerjisa-uretim-hackathon\\power.csv',
 'enerjisa-uretim-hackathon\\sample_submission.csv']
</code></pre>
<h3 id="replace-nan-and-inf-value-with-0">replace nan and inf value with 0</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">features</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csvs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">labels</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csvs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">features</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">features</span><span class="o">=</span><span class="n">features</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="create-and-add-a-new-feature-related-with-timeseries">create and add a new feature related with timeseries</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ay_ve_gun</span><span class="o">=</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">features</span><span class="p">[</span><span class="s2">&#34;Timestamp&#34;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">month</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span>
</span></span><span class="line"><span class="cl">    <span class="n">day</span><span class="o">=</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span><span class="o">//</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">day</span><span class="o">==</span><span class="mi">4</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">day</span><span class="o">=</span><span class="mi">3</span>
</span></span><span class="line"><span class="cl">    <span class="n">ay_ve_gun</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month</span><span class="o">+</span><span class="n">day</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">features</span><span class="p">[</span><span class="s2">&#34;ay_ve_gun&#34;</span><span class="p">]</span><span class="o">=</span><span class="n">ay_ve_gun</span>
</span></span></code></pre></div><h3 id="split-labelled-and-unlabelled-data">split labelled and unlabelled data</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">train_size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">main</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">train_size</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">submission</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="n">train_size</span><span class="p">:]</span>
</span></span></code></pre></div><h3 id="add-labels-to-dataframe">add labels to dataframe</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">main</span><span class="p">[</span><span class="s2">&#34;Power(kW)&#34;</span><span class="p">]</span><span class="o">=</span><span class="n">labels</span><span class="p">[</span><span class="s2">&#34;Power(kW)&#34;</span><span class="p">]</span>
</span></span></code></pre></div><h3 id="show-unlabeled-data-which-we-will-not-use">show unlabeled data which we will not use</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">submission</span>
</span></span></code></pre></div><div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Timestamp</th>
      <th>Gearbox_T1_High_Speed_Shaft_Temperature</th>
      <th>Gearbox_T3_High_Speed_Shaft_Temperature</th>
      <th>Gearbox_T1_Intermediate_Speed_Shaft_Temperature</th>
      <th>Temperature Gearbox Bearing Hollow Shaft</th>
      <th>Tower Acceleration Normal</th>
      <th>Gearbox_Oil-2_Temperature</th>
      <th>Tower Acceleration Lateral</th>
      <th>Temperature Bearing_A</th>
      <th>Temperature Trafo-3</th>
      <th>...</th>
      <th>Blade-2 Set Value_Degree</th>
      <th>Pitch Demand Baseline_Degree</th>
      <th>Blade-1 Set Value_Degree</th>
      <th>Blade-3 Set Value_Degree</th>
      <th>Moment Q Direction</th>
      <th>Moment Q Filltered</th>
      <th>Proxy Sensor_Degree-45</th>
      <th>Turbine State</th>
      <th>Proxy Sensor_Degree-315</th>
      <th>ay_ve_gun</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>136730</th>
      <td>2021-08-15 00:00:00</td>
      <td>60.068333</td>
      <td>62.0</td>
      <td>56.000000</td>
      <td>58.000000</td>
      <td>125.218666</td>
      <td>60.000000</td>
      <td>64.707336</td>
      <td>54.348331</td>
      <td>121.000000</td>
      <td>...</td>
      <td>9.493241</td>
      <td>8.925109</td>
      <td>9.014512</td>
      <td>8.266594</td>
      <td>-41.861877</td>
      <td>-37.917656</td>
      <td>5.739297</td>
      <td>1.0</td>
      <td>5.734730</td>
      <td>802</td>
    </tr>
    <tr>
      <th>136731</th>
      <td>2021-08-15 00:10:00</td>
      <td>60.000000</td>
      <td>62.0</td>
      <td>56.000000</td>
      <td>57.036667</td>
      <td>145.160309</td>
      <td>59.279999</td>
      <td>64.127480</td>
      <td>58.098331</td>
      <td>120.971664</td>
      <td>...</td>
      <td>7.507399</td>
      <td>6.937748</td>
      <td>7.022389</td>
      <td>6.287027</td>
      <td>-19.210815</td>
      <td>-19.602339</td>
      <td>5.720869</td>
      <td>1.0</td>
      <td>5.726634</td>
      <td>802</td>
    </tr>
    <tr>
      <th>136732</th>
      <td>2021-08-15 00:20:00</td>
      <td>60.000000</td>
      <td>62.0</td>
      <td>55.853333</td>
      <td>57.000000</td>
      <td>129.239914</td>
      <td>59.000000</td>
      <td>54.563091</td>
      <td>60.360001</td>
      <td>120.028336</td>
      <td>...</td>
      <td>8.065812</td>
      <td>7.497398</td>
      <td>7.581376</td>
      <td>6.844808</td>
      <td>-28.144068</td>
      <td>-34.329105</td>
      <td>5.727475</td>
      <td>1.0</td>
      <td>5.728649</td>
      <td>802</td>
    </tr>
    <tr>
      <th>136733</th>
      <td>2021-08-15 00:30:00</td>
      <td>60.000000</td>
      <td>62.0</td>
      <td>55.000000</td>
      <td>57.000000</td>
      <td>140.151611</td>
      <td>59.000000</td>
      <td>61.899250</td>
      <td>61.715000</td>
      <td>120.000000</td>
      <td>...</td>
      <td>8.132490</td>
      <td>7.565773</td>
      <td>7.654368</td>
      <td>6.909220</td>
      <td>-7.592476</td>
      <td>-11.718444</td>
      <td>5.728980</td>
      <td>1.0</td>
      <td>5.739824</td>
      <td>802</td>
    </tr>
    <tr>
      <th>136734</th>
      <td>2021-08-15 00:40:00</td>
      <td>60.000000</td>
      <td>62.0</td>
      <td>55.000000</td>
      <td>57.000000</td>
      <td>126.124702</td>
      <td>59.000000</td>
      <td>56.804501</td>
      <td>62.698334</td>
      <td>120.000000</td>
      <td>...</td>
      <td>9.546413</td>
      <td>8.974770</td>
      <td>9.064083</td>
      <td>8.313858</td>
      <td>-7.760864</td>
      <td>-9.863355</td>
      <td>5.736651</td>
      <td>1.0</td>
      <td>5.747692</td>
      <td>802</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>154257</th>
      <td>2021-12-14 23:10:00</td>
      <td>65.811668</td>
      <td>0.0</td>
      <td>59.945000</td>
      <td>62.808334</td>
      <td>225.038239</td>
      <td>65.300003</td>
      <td>109.889709</td>
      <td>61.000000</td>
      <td>97.000000</td>
      <td>...</td>
      <td>15.820095</td>
      <td>15.199166</td>
      <td>15.235223</td>
      <td>14.540556</td>
      <td>-29.340843</td>
      <td>-27.513502</td>
      <td>5.746916</td>
      <td>1.0</td>
      <td>5.756082</td>
      <td>1202</td>
    </tr>
    <tr>
      <th>154258</th>
      <td>2021-12-14 23:20:00</td>
      <td>68.586670</td>
      <td>0.0</td>
      <td>62.084999</td>
      <td>65.413330</td>
      <td>229.905838</td>
      <td>67.871666</td>
      <td>106.016670</td>
      <td>61.116665</td>
      <td>97.000000</td>
      <td>...</td>
      <td>16.504293</td>
      <td>15.876278</td>
      <td>15.917643</td>
      <td>15.207320</td>
      <td>-31.925669</td>
      <td>-30.197918</td>
      <td>5.749150</td>
      <td>1.0</td>
      <td>5.755406</td>
      <td>1202</td>
    </tr>
    <tr>
      <th>154259</th>
      <td>2021-12-14 23:30:00</td>
      <td>63.746666</td>
      <td>0.0</td>
      <td>59.965000</td>
      <td>64.051666</td>
      <td>223.352631</td>
      <td>64.461670</td>
      <td>111.690208</td>
      <td>61.293335</td>
      <td>97.000000</td>
      <td>...</td>
      <td>15.331903</td>
      <td>14.720088</td>
      <td>14.768394</td>
      <td>14.064686</td>
      <td>-53.071564</td>
      <td>-48.306511</td>
      <td>5.751807</td>
      <td>1.0</td>
      <td>5.747936</td>
      <td>1202</td>
    </tr>
    <tr>
      <th>154260</th>
      <td>2021-12-14 23:40:00</td>
      <td>66.643333</td>
      <td>0.0</td>
      <td>60.678333</td>
      <td>63.421665</td>
      <td>227.704514</td>
      <td>66.081665</td>
      <td>119.716499</td>
      <td>60.786667</td>
      <td>97.000000</td>
      <td>...</td>
      <td>16.481724</td>
      <td>15.887610</td>
      <td>15.945046</td>
      <td>15.230121</td>
      <td>-28.747763</td>
      <td>-23.844364</td>
      <td>5.747686</td>
      <td>1.0</td>
      <td>5.757787</td>
      <td>1202</td>
    </tr>
    <tr>
      <th>154261</th>
      <td>2021-12-14 23:50:00</td>
      <td>65.593330</td>
      <td>0.0</td>
      <td>60.738335</td>
      <td>64.731667</td>
      <td>223.235413</td>
      <td>65.891670</td>
      <td>103.372475</td>
      <td>60.395000</td>
      <td>97.000000</td>
      <td>...</td>
      <td>16.198933</td>
      <td>15.591414</td>
      <td>15.635881</td>
      <td>14.941538</td>
      <td>-28.904552</td>
      <td>-30.457935</td>
      <td>5.753047</td>
      <td>1.0</td>
      <td>5.761520</td>
      <td>1202</td>
    </tr>
  </tbody>
</table>
<p>17532 rows × 78 columns</p>
</div>
<h3 id="split-two-part-labelled-data-as-training-67-and-testing-33">split two part labelled data as training (67%) and testing (33%)</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">train_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">main</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.67</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">test_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">main</span><span class="p">)</span> <span class="o">-</span> <span class="n">train_size</span>
</span></span><span class="line"><span class="cl"><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">main</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">train_size</span><span class="p">],</span> <span class="n">main</span><span class="p">[</span><span class="n">train_size</span><span class="p">:]</span>
</span></span></code></pre></div><h3 id="save-training-and-testing-datasets-as-csvs">save training and testing datasets as csvs</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">submission</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&#34;submission.csv&#34;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">train</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&#34;TT.csv&#34;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">test</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&#34;t.csv&#34;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span></code></pre></div><h1 id="machine-learning-step">Machine Learning Step</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">KFold</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sklearn</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">BaggingRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span>  <span class="n">LinearRegression</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">BayesianRidge</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">ElasticNet</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">Lasso</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">LinearSVR</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVR</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.isotonic</span> <span class="kn">import</span> <span class="n">IsotonicRegression</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">VotingRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">StackingRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">RidgeCV</span><span class="p">,</span> <span class="n">LassoCV</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.gaussian_process</span> <span class="kn">import</span> <span class="n">GaussianProcessRegressor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.gaussian_process.kernels</span> <span class="kn">import</span> <span class="n">DotProduct</span><span class="p">,</span> <span class="n">WhiteKernel</span>
</span></span><span class="line"><span class="cl"><span class="n">kernel</span> <span class="o">=</span> <span class="n">DotProduct</span><span class="p">()</span> <span class="o">+</span> <span class="n">WhiteKernel</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">xgboost</span> <span class="kn">import</span> <span class="n">XGBRegressor</span>
</span></span></code></pre></div><h3 id="list-of-machine-learning-algorithms">List of Machine learning algorithms</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">estimators</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;ridge&#39;</span><span class="p">,</span> <span class="n">RidgeCV</span><span class="p">()),</span>
</span></span><span class="line"><span class="cl">               <span class="p">(</span><span class="s1">&#39;lasso&#39;</span><span class="p">,</span> <span class="n">LassoCV</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">               <span class="p">(</span><span class="s1">&#39;knr&#39;</span><span class="p">,</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                          <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">))]</span>
</span></span><span class="line"><span class="cl"><span class="n">final_estimator</span> <span class="o">=</span> <span class="n">GradientBoostingRegressor</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">n_estimators</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">subsample</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">min_samples_leaf</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">max_features</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">reg</span> <span class="o">=</span> <span class="n">StackingRegressor</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">estimators</span><span class="o">=</span><span class="n">estimators</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">final_estimator</span><span class="o">=</span><span class="n">final_estimator</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">TweedieRegressor</span>
</span></span><span class="line"><span class="cl"><span class="n">reg1</span> <span class="o">=</span> <span class="n">GradientBoostingRegressor</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">reg2</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">reg3</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">ml_list</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;LR&#39;</span><span class="p">:</span><span class="n">LinearRegression</span><span class="p">(),</span><span class="s1">&#39;DT&#39;</span><span class="p">:</span><span class="n">DecisionTreeRegressor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;BR&#39;</span><span class="p">:</span><span class="n">BayesianRidge</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;EL&#39;</span><span class="p">:</span><span class="n">ElasticNet</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;twd&#39;</span><span class="p">:</span><span class="n">TweedieRegressor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;LAS&#39;</span><span class="p">:</span><span class="n">Lasso</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;rcv&#39;</span><span class="p">:</span><span class="n">RidgeCV</span><span class="p">(),</span> 
</span></span><span class="line"><span class="cl"><span class="s1">&#39;lcv&#39;</span><span class="p">:</span><span class="n">LassoCV</span><span class="p">(),</span><span class="s1">&#39;BAG&#39;</span><span class="p">:</span><span class="n">BaggingRegressor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;GBR&#39;</span><span class="p">:</span><span class="n">GradientBoostingRegressor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;RF&#39;</span><span class="p">:</span><span class="n">RandomForestRegressor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;KNN&#39;</span><span class="p">:</span><span class="n">KNeighborsRegressor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39;LRVR&#39;:LinearSVR(),&#39;SVR&#39;:SVR(),</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39;iso&#39;:IsotonicRegression(),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;vot&#39;</span><span class="p">:</span><span class="n">VotingRegressor</span><span class="p">(</span><span class="n">estimators</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;gb&#39;</span><span class="p">,</span> <span class="n">reg1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;rf&#39;</span><span class="p">,</span> <span class="n">reg2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;lr&#39;</span><span class="p">,</span> <span class="n">reg3</span><span class="p">)]),</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;stc&#39;</span> <span class="p">:</span> <span class="n">StackingRegressor</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">estimators</span><span class="o">=</span><span class="n">estimators</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">final_estimator</span><span class="o">=</span><span class="n">final_estimator</span><span class="p">),</span><span class="s1">&#39;XGB&#39;</span><span class="p">:</span><span class="n">XGBRegressor</span><span class="p">()}</span>
</span></span></code></pre></div><h3 id="split-dataframe-as-data-x-and-label-y">split dataframe as data (X) and label (y)</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">data_and_label</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">del</span> <span class="n">df</span><span class="p">[</span><span class="s2">&#34;Timestamp&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">X</span> <span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="n">X</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">X</span><span class="p">,</span><span class="n">y</span>
</span></span><span class="line"><span class="cl"><span class="n">path</span><span class="o">=</span><span class="s1">&#39;./csv/&#39;</span>
</span></span></code></pre></div><h3 id="evaluation---calculate-error-score">Evaluation - Calculate error score</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">score_erros</span><span class="p">(</span><span class="n">altime</span><span class="p">,</span><span class="n">train_time</span><span class="p">,</span><span class="n">test_time</span><span class="p">,</span><span class="n">expected</span><span class="p">,</span><span class="n">predicted</span><span class="p">,</span><span class="n">class_based_results</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">cv</span><span class="p">,</span><span class="n">dname</span><span class="p">,</span><span class="n">ii</span><span class="p">):</span>     
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">    <span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">mae</span><span class="o">=</span><span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">rmse</span><span class="o">=</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">predicted</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">r2</span><span class="o">=</span><span class="n">r2_score</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>    
</span></span><span class="line"><span class="cl">    <span class="n">precision</span><span class="p">,</span><span class="n">recall</span><span class="p">,</span><span class="n">f_score</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> 
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%-10s</span><span class="s1"> </span><span class="si">%-3s</span><span class="s1"> </span><span class="si">%-3s</span><span class="s1"> </span><span class="si">%-10s</span><span class="s1">  </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-11s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-6s</span><span class="s1"> </span><span class="si">%-6s</span><span class="s1"> </span><span class="si">%-16s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dname</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">cv</span><span class="p">,</span><span class="n">ii</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">precision</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">recall</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">f_score</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">mse</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">mae</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">        <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">rmse</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">r2</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">train_time</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">test_time</span><span class="p">),</span><span class="mi">2</span><span class="p">)),</span><span class="n">altime</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">lines</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">dname</span><span class="p">)</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">precision</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">recall</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">f_score</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">mse</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">mae</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">rmse</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">r2</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">train_time</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;,&#34;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">test_time</span><span class="p">),</span><span class="mi">15</span><span class="p">))</span><span class="o">+</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">lines</span><span class="p">,</span><span class="n">class_based_results</span><span class="p">,</span><span class="n">mae</span>
</span></span></code></pre></div><h3 id="ml-function">ML Function</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">ML</span><span class="p">(</span><span class="n">output</span><span class="p">,</span><span class="n">file</span><span class="p">,</span><span class="n">test_file</span><span class="p">,</span><span class="n">i</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">ths</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="s2">&#34;a&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">X_test</span><span class="p">,</span><span class="n">y_test</span><span class="o">=</span><span class="n">data_and_label</span><span class="p">(</span><span class="n">test_file</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">ths</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s2">&#34;Dataset,T,CV,ML_alg,precision,recall,f_scor,mse,mae,rmse, r2  ,tra-T,test-T,total</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">fold</span><span class="o">=</span><span class="mi">5</span>
</span></span><span class="line"><span class="cl">    <span class="n">repetition</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="n">class_based_results</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="n">ml_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">mae_min</span><span class="o">=</span><span class="mi">1000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">cv</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">dataset</span><span class="o">=</span><span class="n">file</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">clf</span> <span class="o">=</span> <span class="n">ml_list</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">second</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="o">=</span><span class="n">data_and_label</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">        <span class="n">train_time</span><span class="o">=</span><span class="p">(</span><span class="nb">float</span><span class="p">((</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">second</span><span class="p">))</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">second</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">predicted</span><span class="o">=</span><span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">test_time</span><span class="o">=</span><span class="p">(</span><span class="nb">float</span><span class="p">((</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">second</span><span class="p">))</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">expected</span> <span class="o">=</span> <span class="n">y_test</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">error</span><span class="o">=</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_test</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">            <span class="n">error</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="n">predicted</span><span class="p">[</span><span class="n">j</span><span class="p">])))</span>
</span></span><span class="line"><span class="cl">        <span class="n">error</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">cep68</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">error</span><span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="mi">68</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)])</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">cep95</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">error</span><span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="mi">95</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)])</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">cep</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">cep68</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;   &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">cep95</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">line</span><span class="p">,</span><span class="n">cb</span><span class="p">,</span><span class="n">mae</span><span class="o">=</span><span class="n">score_erros</span><span class="p">(</span><span class="n">cep</span><span class="p">,</span><span class="n">train_time</span><span class="p">,</span><span class="n">test_time</span><span class="p">,</span><span class="n">expected</span><span class="p">,</span> <span class="n">predicted</span><span class="p">,</span><span class="n">class_based_results</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">cv</span><span class="p">,</span><span class="n">dataset</span><span class="p">,</span><span class="n">ii</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">filename</span><span class="o">=</span><span class="sa">f</span><span class="s2">&#34;.sav&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ths</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">ths</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  
</span></span></code></pre></div><h3 id="tarining-file">tarining file</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">csvs</span><span class="o">=</span><span class="n">find_the_way</span><span class="p">(</span><span class="s2">&#34;./&#34;</span><span class="p">,</span><span class="s1">&#39;TT&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">csvs</span>
</span></span></code></pre></div><pre><code>['./TT.csv']
</code></pre>
<h1 id="results">Results</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%-10s</span><span class="s1"> </span><span class="si">%-3s</span><span class="s1"> </span><span class="si">%-3s</span><span class="s1"> </span><span class="si">%-10s</span><span class="s1">  </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-11s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-8s</span><span class="s1"> </span><span class="si">%-6s</span><span class="s1"> </span><span class="si">%-6s</span><span class="s1"> </span><span class="si">%-16s</span><span class="s1">&#39;</span> <span class="o">%</span>
</span></span><span class="line"><span class="cl">                   <span class="p">(</span><span class="s2">&#34;Dataset&#34;</span><span class="p">,</span><span class="s2">&#34;T&#34;</span><span class="p">,</span><span class="s2">&#34;CV&#34;</span><span class="p">,</span><span class="s2">&#34;ML_alg&#34;</span><span class="p">,</span><span class="s1">&#39;prec&#39;</span><span class="p">,</span><span class="s1">&#39;rec&#39;</span><span class="p">,</span><span class="s1">&#39;f1&#39;</span><span class="p">,</span><span class="s2">&#34;mse&#34;</span><span class="p">,</span><span class="s2">&#34;mae&#34;</span><span class="p">,</span><span class="s2">&#34;rmse&#34;</span><span class="p">,</span> <span class="s2">&#34;r2&#34;</span>  <span class="p">,</span><span class="s2">&#34;T&#34;</span><span class="p">,</span><span class="s2">&#34;t&#34;</span><span class="p">,</span><span class="s2">&#34;CDF68    CDF95&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">num</span><span class="p">,</span><span class="n">csv</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">csvs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">output</span><span class="o">=</span><span class="s2">&#34;./results.csv&#34;</span> <span class="c1">#OUTPUT</span>
</span></span><span class="line"><span class="cl">    <span class="n">test_file</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;TT&#39;</span><span class="p">,</span><span class="s1">&#39;t&#39;</span><span class="p">)</span> <span class="c1"># TEST DATA# TEST DATA</span>
</span></span><span class="line"><span class="cl">    <span class="n">ML</span><span class="p">(</span><span class="n">output</span><span class="p">,</span><span class="n">csv</span><span class="p">,</span><span class="n">test_file</span><span class="p">,</span><span class="n">num</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Dataset    T   CV  ML_alg      prec     rec      f1       mse         mae      rmse     r2       T      t      CDF68    CDF95  
./TT       0   0   LR          0        0        0        1167041.09  989.28   1080.3   -0.01    2.23   0.01   34.42   40.37   
./TT       0   0   DT          0        0        0        24983.24    21.8     158.06   0.98     13.39  0.03   2.47   4.86     
./TT       0   0   BR          0        0        0        1168839.83  991.49   1081.13  -0.01    2.95   0.01   34.34   39.97   
./TT       0   0   EL          0        0        0        1167041.13  989.28   1080.3   -0.01    2.49   0.01   34.42   40.37   
./TT       0   0   twd         0        0        0        1167041.1   989.28   1080.3   -0.01    2.53   0.01   34.42   40.37   
./TT       0   0   LAS         0        0        0        1167041.15  989.28   1080.3   -0.01    2.12   0.01   34.42   40.37   
./TT       0   0   rcv         0        0        0        1167054.07  989.28   1080.3   -0.01    2.87   0.01   34.42   40.37   
./TT       0   0   lcv         0        0        0        1166893.56  991.61   1080.23  -0.01    4.54   0.01   34.37   39.94   
./TT       0   0   BAG         0        0        0        8307.35     14.41    91.14    0.99     57.68  0.34   2.2   4.96      
./TT       0   0   GBR         0        0        0        9996.79     52.03    99.98    0.99     149.85 0.12   6.76   13.03    
./TT       0   0   RF          0        0        0        5502.6      12.68    74.18    1.0      501.61 1.39   2.15   5.24     
./TT       0   0   KNN         0        0        0        557629.39   463.57   746.75   0.52     5.2    267.91 22.23   42.1    
./TT       0   0   vot         0        0        0        139551.09   341.29   373.57   0.88     761.01 2.17   20.05   23.42   
./TT       0   0   stc         0        0        0        519621.29   610.33   720.85   0.55     649.77 333.07 27.57   36.77   
./TT       0   0   XGB         0        0        0        9760.45     51.78    98.79    0.99     41.54  0.19   6.81   12.99    
</code></pre>

    </div>

    




<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/machine-learning/">Machine Learning</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/&amp;text=Prediction%20of%20wind%20turbine%20power%20generation%20from%20real-time%20SCADA%20data" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/&amp;t=Prediction%20of%20wind%20turbine%20power%20generation%20from%20real-time%20SCADA%20data" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Prediction%20of%20wind%20turbine%20power%20generation%20from%20real-time%20SCADA%20data&amp;body=https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/&amp;title=Prediction%20of%20wind%20turbine%20power%20generation%20from%20real-time%20SCADA%20data" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Prediction%20of%20wind%20turbine%20power%20generation%20from%20real-time%20SCADA%20data%20https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://example.com/project/prediction-of-wind-turbine-power-generation-from-real-time-scada-data-main/readme/&amp;title=Prediction%20of%20wind%20turbine%20power%20generation%20from%20real-time%20SCADA%20data" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://example.com/"><img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu146c0e669bbb7677a5dcfd01bc64668c_18182_270x270_fill_q75_lanczos_center.jpg" alt="Rabia YAŞA KOŞTAŞ"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://example.com/">Rabia YAŞA KOŞTAŞ</a></h5>
      <h6 class="card-subtitle">PhD Candidate</h6>
      <p class="card-text">Rabia is a PhD student at School of Informatics, The University of Edinburgh, UK.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/rykostas" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=3aVUjnMAAAAJ&amp;hl=tr" target="_blank" rel="noopener">
        <i class="fas fa-graduation-cap"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/rykostas" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/rykostas/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


















    <div class="project-related-pages content-widget-hr">
      
      

      
      
      

      
      
      

      
      
      
    </div>
  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  



  

  

  

  
  






  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    © 2022 Me. This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank">CC BY NC ND 4.0</a>
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
        <i class="fab fa-creative-commons-nc fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-nd fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>




  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> — the free, <a href="https://github.com/wowchemy/wowchemy-hugo-themes" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

      

    
    <script src="/js/vendor-bundle.min.e66e385e2f1df861699d60acd7a9c670.js"></script>

    
    
    
      

      
      

      

      
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
        
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/r.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/latex.min.js" crossorigin="anonymous"></script>
        
      

    

    
    
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    
      
      
      
      
      
      
      
    

    

    
    
    
    <script id="page-data" type="application/json">{"use_headroom":true}</script>

    
    
      <script src="/js/wowchemy-headroom.c251366b4128fd5e6b046d4c97a62a51.js" type="module"></script>
    
    
    
    
    
    
    
      
      
    
    
    <script src="/en/js/wowchemy.min.ab2f2890dbe3e2e83579366d3d6e8fd9.js"></script>

    
    
    
    
    
    
      
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      <script src="/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js" type="module"></script>






</body>
</html>
